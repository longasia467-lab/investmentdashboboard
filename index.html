<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Longasia Investment - Investment Performance Tracker</title>

    <!-- PWA / Add to Home Screen Icons (for iOS and Android) --><link rel="apple-touch-icon" href="https://i.ibb.co/3s3n39J/longasia-logo.png">
    <link rel="icon" type="image/png" href="https://i.ibb.co/3s3n39J/longasia-logo.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#000000">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000; /* Pure black background */
            
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 4rem 2rem; 
            color: #e2e8f0; /* Default text to light gray */
            position: relative; /* Needed for pseudo-element positioning */
        }
        
        /* --- PSEUDO-ELEMENT FOR FIXED, FILTERED BACKGROUND --- */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Place behind all content */
            
            /* Logo Styling */
            background-image: url('https://i.ibb.co/SDrwhrFZ/Screenshot-2025-11-14-134406.png'); 
            background-size: 60%;
            background-position: center center;
            background-repeat: no-repeat;
            
            /* Apply filter to the background image only */
            filter: grayscale(100%) opacity(0.02); 
        }
        /* --- END PSEUDO-ELEMENT --- */

        /* The content-wrapper is no longer needed to counteract the filter, but we keep it
           for max-width and centering, so the styles are simplified. */
        .main-content-wrapper {
            width: 100%;
            max-width: 7xl; 
            position: relative; 
            z-index: 1; /* Ensure content is above the background layer */
        }

        /* --- GLASSCARD STYLES (Adapted for Longasia black/white theme) --- */
        .glass-card {
            background-color: rgba(255, 255, 255, 0.05); /* Very subtle white transparency */
            border: 1px solid rgba(255, 255, 255, 0.1); /* Subtle white border */
            backdrop-filter: blur(10px); 
            --webkit-backdrop-filter: blur(10px); 
        }
        .main-glass-card {
            /* Main card with a subtle white/light gray gradient for emphasis */
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.04));
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(15px);
            --webkit-backdrop-filter: blur(15px);
        }
        /* --- END GLASSCARD STYLES --- */

        .projection-table-container {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        /* Custom Keyframe for subtle pulse on the main card */
        @keyframes subtle-pulse {
            0%, 100% { box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2); }
            50% { box-shadow: 0 5px 15px rgba(255, 255, 255, 0.2); /* White glow */ }
        }
        .animate-subtle-pulse {
            animation: subtle-pulse 5s infinite ease-in-out;
        }
        .icon {
            width: 1.25rem; 
            height: 1.25rem;
            display: inline-block;
            vertical-align: middle;
            margin-right: 0.5rem;
        }
        .table-cell-padding {
            padding: 0.75rem 1.25rem; 
        }
        /* Specific text colors for Longasia theme */
        .longasia-text-primary { color: #ffffff; /* Pure white for main text */ }
        .longasia-text-secondary { color: #cbd5e1; /* Light gray for secondary text */ }
        .longasia-text-accent { color: #facc15; /* A subtle gold/yellow for a high-end feel */ }
        .longasia-border { border-color: rgba(255, 255, 255, 0.1); }
        .profit-gain { 
            color: #00ff00; /* NEON GREEN for gains */ 
            text-shadow: 0 0 5px #00ff00; /* Optional: adds a subtle glow effect */
        } 
        .profit-loss { color: #ef4444; /* Subtle red for losses */ }

        /* Modal specific styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 50;
        }
        .modal-glass {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(15px);
            --webkit-backdrop-filter: blur(15px);
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 400px;
            position: relative;
        }
    </style>
</head>
<body>

<!-- Account Details Modal Structure -->
<div id="accountModal" class="modal-overlay hidden">
    <div class="modal-glass">
        <h3 class="text-2xl font-bold longasia-text-primary mb-4 border-b longasia-border pb-2">Account Details</h3>
        <button onclick="toggleModal()" class="absolute top-4 right-4 text-xl text-white opacity-70 hover:opacity-100 transition">
            &times;
        </button>
        <div class="space-y-3 text-sm">
            <p><span class="font-semibold longasia-text-accent">Holder Name:</span> <span class="longasia-text-primary">Shalikram Bhaudas Pandharam</span></p>
            <p><span class="font-semibold longasia-text-accent">Account Number:</span> <span class="longasia-text-primary">36170224</span></p>
            <p><span class="font-semibold longasia-text-accent">National ID:</span> <span class="longasia-text-primary">**** **** 4591</span></p>
            <p class="pt-2"><span class="font-semibold longasia-text-accent">Status:</span> <span class="profit-gain font-bold">Verified</span></p>
        </div>
    </div>
</div>

<!-- Main wrapper changed class name and simplified positioning --><div class="main-content-wrapper">

    <div class="glass-card rounded-2xl p-8 md:p-10 
                shadow-2xl transition duration-500 ease-in-out relative">
        
        <!-- Account Circle Button -->
        <button onclick="toggleModal()" class="absolute top-4 right-4 md:top-6 md:right-6 
                 w-10 h-10 rounded-full bg-white/10 border border-white/20 
                 flex items-center justify-center text-xl text-white 
                 hover:bg-white/20 transition duration-300 z-20"
                 title="Account Details">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 longasia-text-accent">
                <path fill-rule="evenodd" d="M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.646-7.812-1.7a.75.75 0 0 1-.437-.695Z" clip-rule="evenodd" />
            </svg>
        </button>
        <!-- End Account Circle Button -->


        <header class="text-center mb-16">
            
            <!-- NEW Large Header Logo Integration --><div class="mb-6">
                <img src="https://i.ibb.co/bh4rZws/long-asia-png.png" 
                     alt="Longasia Main Logo" 
                     onerror="this.onerror=null;this.src='https://placehold.co/200x50/000000/ffffff?text=LONGASIA'"
                     class="mx-auto w-64 h-auto object-contain transition duration-500 ease-in-out"
                     />
            </div>
            <!-- Removed the old text titles to prioritize the logo image -->

        </header>

        <!-- Current Status Section --><div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
            
            <!-- Card 1: Time Elapsed (Glass Effect) --><div class="glass-card longasia-text-secondary p-5 rounded-xl shadow-xl 
                        transform hover:scale-[1.05] hover:shadow-white/10 transition duration-500 ease-in-out">
                <p class="text-sm font-medium flex items-center">
                    <svg class="icon longasia-text-accent" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
                    Time Elapsed
                </p>
                <p id="daysElapsed" class="text-4xl font-black mt-1 longasia-text-primary">0</p>
                <p id="startDateDisplay" class="text-xs mt-2 longasia-text-secondary">Calculated since Loading...</p>
            </div>

            <!-- Card 2: Current Value (Main Glass Card - Animated) --><div class="main-glass-card longasia-text-primary p-5 rounded-xl shadow-2xl 
                        animate-subtle-pulse transform hover:scale-[1.05] transition duration-500 ease-in-out">
                <p class="text-sm font-medium opacity-90 flex items-center">
                    <svg class="icon longasia-text-accent" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20v-8M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0 0h8m-8 0H4"></path><path d="M17 5H7M17 19H7"></path></svg>
                    Current Tracked Value
                </p>
                <div class="flex items-baseline mt-1">
                    <span class="text-4xl font-extrabold">$</span>
                    <span id="currentValue" class="text-4xl font-black">210.00</span>
                </div>
                <!-- Removed currentDateDisplay element --><p class="text-xs mt-2 longasia-text-secondary opacity-80">Real-time performance</p>
            </div>

            <!-- Card 3: Total Profit (Glass Effect) --><div class="glass-card longasia-text-secondary p-5 rounded-xl shadow-xl
                        transform hover:scale-[1.05] hover:shadow-white/10 transition duration-500 ease-in-out">
                <p class="text-sm font-medium flex items-center">
                     <svg class="icon profit-gain" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18M18 6l-9 9-4-4"></path></svg>
                    Total Profit
                </p>
                <div class="flex items-baseline mt-1">
                    <span class="text-4xl font-extrabold profit-gain">$</span>
                    <span id="totalProfit" class="text-4xl font-black profit-gain">0.00</span>
                </div>
                <p id="profitPercent" class="text-xs mt-2 longasia-text-secondary">
                    <span class="profit-gain">0.00% Gain</span>
                </p>
            </div>
        </div>

        <!-- Projections Table Section --><h2 class="text-xl font-bold longasia-text-primary mb-4 border-b longasia-border pb-3 uppercase tracking-wide">
            Future Projections
        </h2>
        <div class="projection-table-container">
            <table class="min-w-full divide-y divide-white/10 rounded-xl overflow-hidden shadow-lg glass-card">
                <thead class="bg-white/5">
                    <tr>
                        <th class="table-cell-padding text-left text-xs font-semibold longasia-text-accent uppercase tracking-wider">Timeframe</th>
                        <th class="table-cell-padding text-right text-xs font-semibold longasia-text-accent uppercase tracking-wider">Total Days</th>
                        <th class="table-cell-padding text-right text-xs font-semibold longasia-text-accent uppercase tracking-wider">Projected Value</th>
                        <th class="table-cell-padding text-right text-xs font-semibold longasia-text-accent uppercase tracking-wider">Total Profit</th>
                    </tr>
                </thead>
                <tbody id="projectionBody" class="divide-y divide-white/5">
                </tbody>
            </table>
        </div>

        <!-- Copyright Footer --><footer class="mt-12 pt-6 text-center border-t longasia-border">
            <p class="text-xs longasia-text-secondary uppercase tracking-wider">
                2025 &copy; LONG ASIA GROUP
            </p>
        </footer>

        <!-- Hidden Firebase Globals (Required for Canvas Environment) --><script>
            var __app_id = typeof __app_id !== 'undefined' ? __app_id : 'default-trading-sim';
            var __firebase_config = typeof __firebase_config !== 'undefined' ? __firebase_config : '{}';
            var __initial_auth_token = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : undefined;
        </script>
    </div><!-- End of main glass-card container --></div><!-- End of main-content-wrapper --><script type="module">
    // --- Account Modal Toggle Function ---
    window.toggleModal = () => {
        const modal = document.getElementById('accountModal');
        modal.classList.toggle('hidden');
    };
    
    const INITIAL_PRINCIPAL = 210; 
    const MONTHLY_RATE = 0.055; 
    const DAYS_IN_MONTH = 30.44; 
    const DAILY_RATE_ON_PRINCIPAL = MONTHLY_RATE / DAYS_IN_MONTH; 
    const DAILY_PROFIT = INITIAL_PRINCIPAL * DAILY_RATE_ON_PRINCIPAL; 
    const FIXED_START_DATE_OBJ = new Date(); 
    const FIXED_START_DATE_STR = FIXED_START_DATE_OBJ.toLocaleDateString('en-US');
    const MS_PER_DAY = 1000 * 60 * 60 * 24;
    const PROFIT_PER_MS = DAILY_PROFIT / MS_PER_DAY; 

    const daysElapsedEl = document.getElementById('daysElapsed');
    const currentValueEl = document.getElementById('currentValue');
    const totalProfitEl = document.getElementById('totalProfit');
    const profitPercentEl = document.getElementById('profitPercent');
    const projectionBody = document.getElementById('projectionBody');
    const startDateDisplayEl = document.getElementById('startDateDisplay');

    const formatCurrency = (amount) => {
        const absoluteAmount = Math.abs(amount);
        return absoluteAmount.toLocaleString('en-US', {
            minimumFractionDigits: 2, 
            maximumFractionDigits: 2
        });
    };

    const calculatePreciseGrowth = (ms) => {
        if (ms < 0) return INITIAL_PRINCIPAL;
        return INITIAL_PRINCIPAL + (PROFIT_PER_MS * ms);
    };

    const calculateDailyGrowth = (days) => {
        if (days < 0) return INITIAL_PRINCIPAL;
        return INITIAL_PRINCIPAL + (DAILY_PROFIT * days);
    };

    const renderProjectionRow = (timeframe, days) => {
        const finalValue = calculateDailyGrowth(days);
        const profit = finalValue - INITIAL_PRINCIPAL;
        const row = document.createElement('tr');
        row.classList.add('transition', 'duration-300', 'hover:bg-white/5'); 

        const profitClass = profit >= 0 ? 'profit-gain' : 'profit-loss';

        row.innerHTML = `
            <td class="table-cell-padding whitespace-nowrap text-sm font-medium longasia-text-secondary">${timeframe}</td>
            <td class="table-cell-padding whitespace-nowrap text-sm longasia-text-secondary text-right">${days}</td>
            <td class="table-cell-padding whitespace-nowrap text-lg font-semibold text-right">
                <span class="font-medium longasia-text-primary">$</span><span class="longasia-text-primary">${formatCurrency(finalValue)}</span>
            </td>
            <td class="table-cell-padding whitespace-nowrap text-sm text-right">
                <span class="${profitClass}">$</span><span class="${profitClass}">${formatCurrency(profit)}</span>
            </td>
        `;
        return row;
    };

    window.updateSimulation = () => {
        const today = new Date();
        const totalMillisecondsElapsed = today.getTime() - FIXED_START_DATE_OBJ.getTime();
        const daysDifference = totalMillisecondsElapsed / MS_PER_DAY; 
        const daysElapsed = Math.max(0, Math.floor(daysDifference)); 

        daysElapsedEl.textContent = daysElapsed;

        const currentValue = calculatePreciseGrowth(totalMillisecondsElapsed);
        const profit = currentValue - INITIAL_PRINCIPAL;
        const profitPercent = (profit / INITIAL_PRINCIPAL) * 100;

        currentValueEl.textContent = formatCurrency(currentValue);
        totalProfitEl.textContent = formatCurrency(profit);

        const profitTextClass = profit >= 0 ? 'profit-gain' : 'profit-loss';
        const profitWord = profit >= 0 ? 'Gain' : 'Loss';
        
        totalProfitEl.classList.remove('profit-gain', 'profit-loss');
        totalProfitEl.classList.add(profitTextClass);

        profitPercentEl.innerHTML = `<span class="${profitTextClass}">${profitPercent.toFixed(2)}% ${profitWord}</span>`;

        projectionBody.innerHTML = '';
        const projectionList = [
            { timeframe: '1 Month Future', days: daysElapsed + 30 },
            { timeframe: '3 Months Future', days: daysElapsed + 90 },
            { timeframe: '6 Months Future', days: daysElapsed + 180 }, 
            { timeframe: '1 Year Future', days: daysElapsed + 365 },
        ];

        projectionList.forEach(({ timeframe, days }) => {
            projectionBody.appendChild(renderProjectionRow(timeframe, days));
        });
    };

    document.addEventListener('DOMContentLoaded', () => {
        startDateDisplayEl.textContent = `Calculated since ${FIXED_START_DATE_STR}.`;
        updateSimulation();
        setInterval(updateSimulation, 1000); 
    });

    try {
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-trading-sim';
        let firebaseConfig = {};
        if (typeof __firebase_config === 'string' && __firebase_config.length > 0) {
             firebaseConfig = JSON.parse(__firebase_config);
        }
        if (Object.keys(firebaseConfig).length > 0) {
            // Firebase integration placeholder
        }
    } catch (e) {
        console.error("Firebase environment variable parsing failed:", e);
    }
</script>
</body>
</html>
